# 開発者向けインストール手順

この文書では、Chrome拡張機能 "JetBrains Language Switcher" を開発モードでインストールし、テスト・デバッグする方法を説明します。

## 開発モードでのインストール手順

### 1. プロジェクトファイルを用意する

このプロジェクトのすべてのファイルが適切なディレクトリ構造で配置されていることを確認してください。

```
pleiades.io_language_switcher/
├── manifest.json
├── background.js
├── content.js
├── popup.html
├── popup.js
├── README.md
└── images/
    ├── icon16.png
    ├── icon32.png
    ├── icon48.png
    └── icon128.png
```

### 2. Chrome拡張機能ページを開く

1. Google Chrome ブラウザを開きます
2. アドレスバーに `chrome://extensions/` と入力し、Enterキーを押します

### 3. デベロッパーモードを有効化する

拡張機能ページの右上にある「デベロッパーモード」のトグルスイッチをオンにします。

### 4. 拡張機能を読み込む

1. 「パッケージ化されていない拡張機能を読み込む」ボタンをクリックします
2. プロジェクトのルートディレクトリ（`manifest.json`ファイルがあるディレクトリ）を選択します
3. 「選択」または「フォルダーを選択」ボタンをクリックします

### 5. 拡張機能のテスト

1. 拡張機能が正常にインストールされると、Chrome のツールバーに拡張機能のアイコンが表示されます
2. JetBrains のヘルプページ（例: https://pleiades.io/help/idea/ または https://www.jetbrains.com/help/idea/）にアクセスします
3. 拡張機能のアイコンをクリックして、言語切替機能をテストします
4. ページ右上に表示される言語切替ボタンも確認してください
5. コンテキストメニュー（ページ上で右クリック）に言語切替オプションが表示されることも確認してください

## デバッグ方法

### コンソールログの確認

拡張機能のバックグラウンドページやコンテンツスクリプトのログを確認するには：

1. `chrome://extensions/` ページで拡張機能の「詳細」をクリックします
2. 「バックグラウンドページを検証」または「サービス ワーカーを検証」をクリックしてデベロッパーツールを開きます
3. コンソールタブでエラーや出力を確認できます

### コンテンツスクリプトのデバッグ

1. JetBrains ヘルプページでF12キーを押し、デベロッパーツールを開きます
2. Consoleタブでエラーがないか確認します
3. Sourcesタブの「Content Scripts」セクションで、拡張機能のコンテンツスクリプトを見つけることができます

## 更新方法

拡張機能のコードを変更した後、更新するには：

1. `chrome://extensions/` ページを開きます
2. 拡張機能のカードにある「更新」ボタン（円形の矢印アイコン）をクリックします
3. または、拡張機能全体を削除して再度読み込むこともできます

## パッケージ化と配布

実際に配布する準備ができたら、次のいずれかの方法でパッケージ化できます：

1. 付属の `package.sh` スクリプトを実行して ZIP ファイルを作成:
```bash
./package.sh
```

2. 手動でZIPファイルを作成:
```bash
zip -r pleiades.io_language_switcher.zip * -x "*.git*" -x "*.DS_Store"
```

Chrome ウェブストアでの公開手順については、`PUBLISHING.md` を参照してください。
